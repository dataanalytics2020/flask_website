{% extends "base.html" %}
{% block content %}
<div class="container">
    <div class="row">
        <div class="col">
            <div class="heading-008 my-2 ">エリアから取材予定を地図で探す</div>
            <div class="row">
                <ul class="top-btn" style="list-style: none; padding: 0;  margin:0;">
                    <li><a class="link-btn colorname1" href="/tomorrow-recommend/hokkaidoutouhoku">北海道・東北</a></li>
                    <li><a class="link-btn colorname1" href="/tomorrow-recommend/kitakantou">北関東</a></li>
                    <li><a class="link-btn colorname1" href="/tomorrow-recommend/minamikantou">南関東</a></li>
                </ul>
            </div>
            <div class="row">
                <ul class="top-btn" style="list-style: none; padding: 0;  margin:0;">
                    <li><a class="link-btn colorname1" href="/tomorrow-recommend/hokurikukoushinetsu">北陸・甲信越</a></li>
                    <li><a class="link-btn colorname1" href="/tomorrow-recommend/toukai">東海</a></li>
                    <li><a class="link-btn colorname1" href="/tomorrow-recommend/kansai">関西</a></li>
                </ul>
            </div>
            <div class="row">
                <ul class="top-btn" style="list-style: none; padding: 0;  margin:0;">
                    <li><a class="link-btn colorname1" href="/tomorrow-recommend/chugokushikoku">中国・四国</a></li>
                    <li><a class="link-btn colorname1" href="/tomorrow-recommend/kyusyu">九州・山口</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <div class="heading-008 my-2 ">日付と都道府県から予定を探す</div>
            <form action="{{ url_for('top') }}" method="post">
                <p>調べたい都道府県を選択：</p>
                    <select class="form-select form-select-lg mb-2" 　aria-label="Default select example" name="prefecture">
                        <option selected>都道府県を選択</option>
                        {% for prefecture in data.prefecture_list %}
                            <option value="{{ prefecture }}">{{ prefecture }}</option>
                        {% endfor %}
                    </select>

                <p>調べたい日付を選択：</p>
                <select class="form-select form-select-lg mb-2" aria-label="Default select example" name="target_day">
                {% for target_day in data.jp_str_day_list %}
                    <option value="{{ target_day }}">{{ target_day }}</option>
                {% endfor %}
                </select>

                <div class="d-grid gap-2 col-6 mx-auto pb-3 pt-3">
                    <button class="btn btn-primary" type="submit" value="送信">検索</button>
                </div>
            </form>
        </div>
    </div>



    <div class="row">
        <div class="col-12 text-center">
            <h1 class='mt-4'>明日の関東お勧めマップ(※タップで地図を動かせます)</h1>
            <h4 data-text="※明日みんなが注目の取材のみマップに表示中">※明日要注目の取材のみマップに表示中</h4>
            <iframe class="embed-responsive-item" scrolling="no" height="450" width="100%" src={{ data.iframe|safe }}</iframe>
            <div class="mx-auto mt-4" style="width: 400px;">
                <div class="heading-008">南関東明日の取材一覧</div>
            </div>
            <div class = 'heatmap .table-wrap'>
                <div class="scroll_area" style="width:100%;max-width:2000px;overflow-x:scroll;">
                    <table id="syuzai_table" class="table table-striped">
                        <thead>
                            <tr>
                                {% for col in data.display_report_df_column_names %}
                                <th>
                                {{col}}
                                </th>
                                {% endfor %}
                            </tr>
                        </thead>
                        <tbody>
                            {% for row in data.display_report_df_row_data %}
                            <tr>
                                {% for col, row_ in zip(data.display_report_df_column_names, row) %}
                                    {% if col == '取材名' %}
                                        <td><a href="/tomorrow_recommend/minamikantou/syuzai/{{ row_ }}" >{{ row_ }}</a></td>
                                    {% elif col == '店舗名' %}
                                        <td><a href="/tomorrow_recommend/minamikantou/hall/{{ row_ }}" >{{ row_ }}</a></td>
                                    {% elif col == '媒体名' %}
                                        <td><a href="/tomorrow_recommend/minamikantou/media/{{ row_ }}" >{{ row_ }}</a></td>
                                    {% else %}
                                        <td>{{row_}}</td>
                                    {% endif %}
                                {% endfor %}
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

<script>
$(function() {
	$("#test1").tabs();
});
</script>


<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1/i18n/jquery.ui.datepicker-ja.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/themes/cupertino/jquery-ui.min.css">  <!-- テーマcupertinoを選択 -->\
<script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
<script>
$(document).ready(function(){
    $("#syuzai_table").DataTable({
        "language":{url:"https://cdn.datatables.net/plug-ins/1.11.5/i18n/ja.json",},
            // 件数切替機能 無効
        lengthChange: false,
        // 検索機能 無効
        searching: true,
        // ソート機能 無効
        ordering: true,
        // 情報表示 無効
        info: true,
        // ページング機能 無効
        paging: true,
        // ページングの件数切替機能 無効
        pagingType: "full_numbers",
        // ページングの件数切替機能 無効
        lengthMenu: [ 10, 20, 30, 40, 50, 100 ],
        // ページングの件数切替機能 無効
        pageLength: 30,

        //列の幅を調整する
        autoWidth: true,
        
        // 初期表示の並び替えなし
        order: [],
    });
});

</script>


{% endblock %}